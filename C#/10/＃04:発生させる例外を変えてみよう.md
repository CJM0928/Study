## 発生させる例外を変えてみよう
> (특정 타입의 catch는 “해당 예외가 아닐 때” 실행되지 않는다)

- int.Parse("a") 는 FormatException 을 발생시킨다
- catch 블록이 DivideByZeroException 이므로 → 잡히지 않는다
- 따라서 catch 블록은 건너뛰고, 바로 finally 로 간다
- 프로그램은 예외가 처리되지 않았기 때문에 Unhandled Exception으로 종료된다

---

### C# 코드 해설

```
using System;

class Lesson10
{
    public static void Main()
    {
        Console.WriteLine("Hello World");

        try
        {
            // 여기서 FormatException 발생
            int number = int.Parse("a");

            // 이 코드는 실행되지 않음
            int answer = 100 / number;
            Console.WriteLine(answer);
        }
        catch (DivideByZeroException e)
        {
            // 이 catch는 실행되지 않음 (예외 타입이 다름)
            Console.Error.WriteLine("0では割り算できません");
            Console.Error.WriteLine(e);
        }
        finally
        {
            // 예외 여부와 관계없이 실행됨
            Console.WriteLine("Hello C#");
        }
    }
}
```

---

### 실행 결과 (실제 출력 흐름)

```
Hello World
Hello C#
Unhandled exception. System.FormatException: Input string was not in a correct format.
```

- 포인트 1 — catch가 실행되지 않음
  - 실제 발생 예외: FormatException
  - catch가 받는 타입: DivideByZeroException
  - → 타입이 불일치 → catch 불일치 → 점프됨

- 포인트 2 — finally는 항상 실행됨
  - 그래서 “Hello C#” 은 출력됨
    
- 포인트 3 — 예외는 결국 처리되지 않음
  - 따라서 “Unhandled exception” 메시지와 함께 종료

---

### 중요한 개념 — catch는 “타입 매칭”이다
> 이 코드는 예외 처리의 본질이 다형성(Polymorphism) + 타입 매칭임을 보여준다.

| 발생한 예외          | catch가 받는 타입          | 매칭여부 |
| --------------- | --------------------- | ---- |
| FormatException | DivideByZeroException | ❌    |

> 만약 이렇게 했다면 잡힌다:

```
catch (FormatException e)
{
    Console.WriteLine("文字列を数値に変換できません");
}
```
또는
```
catch (Exception e)
{
    Console.WriteLine("何かしらのエラーが発生しました");
}
```
**➡ 부모 타입(Exception)은 모든 예외를 잡을 수 있음.**

---

### Java에서 동일 구조 비교
> Java도 동일하게 타입 매칭으로 동작함:

```
try {
    int number = Integer.parseInt("a"); // NumberFormatException
    int answer = 100 / number;
} catch (ArithmeticException e) {        // 실행되지 않음
    System.err.println("0で割れない");
} finally {
    System.out.println("Hello Java");
}
```
> 이 경우도 catch가 실행되지 않고 finally 후에 Unhandled Exception으로 종료.
